{"version":3,"sources":["webpack://blog-space/./src/components/MHeader.js","webpack://blog-space/./src/styles/mHeader.module.css","webpack://blog-space/./src/components/MLayout.js","webpack://blog-space/./src/components/Pagination.js","webpack://blog-space/./src/pages/m/blog.js","webpack://blog-space/./src/styles/mBlogs.module.css","webpack://blog-space/./src/utils/tool.js","webpack://blog-space/./src/styles/blogs.module.css","webpack://blog-space/./src/assets/avatar.jpeg"],"names":["navs","key","title","to","useState","showMenu","setShowMenu","className","src","avatarImg","alt","onClick","role","map","item","pageTitle","siteTitle","children","pageCount","curPage","onPageChange","data","allMdx","site","setCurPage","edges","slice","list","setList","Math","ceil","totalCount","useEffect","fixDeviceView","siteMetadata","mPageBody","mBlogList","node","frontmatter","tags","tag","split","id","slug","brief","cover","length","date","Pagination","page","exports","n","isBrowser","window","navigator","userAgent","toLowerCase","match","pathname","sUserAgent","location","isMobileDevice","isMobileView","test","href","origin","search","replace","pageBody","blogList"],"mappings":"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","file":"component---src-pages-m-blog-js-6f9758795bb529e9abe5.js","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'gatsby'\nimport avatarImg from '../assets/avatar.jpeg'\nimport {\n  header,\n  headerBar,\n  icon,\n  topInfo,\n  topClose,\n  topMenu,\n  closeOff,\n  closeActive,\n  divider,\n} from '../styles/mHeader.module.css'\n\nconst navs = [\n  {\n    key: 'Home',\n    title: '首页',\n    to: '/',\n  },\n  {\n    key: 'Blog',\n    title: '笔记',\n    to: '/m/blog',\n  },\n  {\n    key: 'Works',\n    title: '练习',\n    to: '/m/works',\n  },\n]\n\nfunction MHeader() {\n  const [showMenu, setShowMenu] = useState(false)\n\n  const handleToggleMenu = () => {\n    setShowMenu(!showMenu)\n  }\n\n  return (\n    <header className={header}>\n      <div className={headerBar}>\n        <div className={icon}>\n          <img src={avatarImg} alt=\"avatar\" />\n        </div>\n        <div className={topInfo}>\n          <div>Ushio</div>\n          <span>\n            To reveal all mysteries and doubts, have the lust for life.\n          </span>\n        </div>\n        <div className={topClose} onClick={handleToggleMenu} role=\"button\">\n          <div className={showMenu ? closeActive : closeOff}></div>\n        </div>\n        {showMenu && (\n          <div className={topMenu}>\n            <ul>\n              {navs.map(item => {\n                return (\n                  <li key={item.key}>\n                    <Link to={item.to}>{item.title}</Link>\n                    <div className={divider}></div>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        )}\n      </div>\n    </header>\n  )\n}\n\nexport default MHeader\n","// extracted by mini-css-extract-plugin\nexport var header = \"mHeader-module--header--3VpTH\";\nexport var headerBar = \"mHeader-module--header-bar--29-4_\";\nexport var icon = \"mHeader-module--icon--E8UBq\";\nexport var topInfo = \"mHeader-module--top-info--32z56\";\nexport var topClose = \"mHeader-module--top-close--1Mo6L\";\nexport var topMenu = \"mHeader-module--top-menu--1kKFv\";\nexport var closeOff = \"mHeader-module--close-off--1-nuD\";\nexport var closeActive = \"mHeader-module--close-active--1zALV\";\nexport var divider = \"mHeader-module--divider--31zPb\";","import React from 'react'\nimport MHeader from './MHeader'\n\nfunction Layout({ pageTitle, siteTitle, children }) {\n  return (\n    <div className=\"page\">\n      <title>\n        {pageTitle} - {siteTitle}\n      </title>\n\n      <MHeader />\n\n      {children}\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react'\n\nfunction Pagination({ pageCount, curPage, onPageChange }) {\n  const handlePrev = () => {\n    onPageChange(curPage - 1)\n  }\n  const handleNext = () => {\n    onPageChange(curPage + 1)\n  }\n\n  return (\n    <div className=\"pager\">\n      {curPage > 1 && (\n        <button\n          aria-label=\"previous page\"\n          className=\"pager-btn pager-prev\"\n          onClick={handlePrev}\n        >\n          上一页\n        </button>\n      )}\n      <span>\n        {curPage} / {pageCount}\n      </span>\n      {curPage < pageCount && (\n        <button\n          aria-label=\"next page\"\n          className=\"pager-btn pager-next\"\n          onClick={handleNext}\n        >\n          下一页\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from 'react'\nimport { graphql, Link } from 'gatsby'\nimport Layout from '../../components/MLayout'\nimport Pagination from '../../components/Pagination'\n\nimport { mPageBody, mBlogList } from '../../styles/blogs.module.css'\nimport {\n  sectionTitle,\n  trendArticle,\n  articleCover,\n  articleInfo,\n  articleTitle,\n  articleBrief,\n  articleFt,\n  articleTime,\n  articleTag,\n} from '../../styles/mBlogs.module.css'\n\nimport { fixDeviceView } from '../../utils/tool'\n\nfunction MBlogPage({ data }) {\n  const { allMdx, site } = data\n  const [curPage, setCurPage] = useState(1)\n  const [list, setList] = useState(\n    allMdx && allMdx.edges ? allMdx.edges.slice(0, 10) : []\n  )\n\n  const pageCount = Math.ceil(allMdx.totalCount / 10)\n\n  const onPageChange = page => {\n    setList(allMdx.edges.slice((page - 1) * 10, page * 10))\n    setCurPage(page)\n  }\n\n  useEffect(() => {\n    fixDeviceView()\n  }, [])\n\n  return (\n    <Layout pageTitle=\"Blog\" siteTitle={site.siteMetadata.title}>\n      <div className={sectionTitle}>博客列表</div>\n\n      <main className={mPageBody}>\n        <ul className={mBlogList}>\n          {list.map(({ node }) => {\n            const { frontmatter } = node\n            const tags = frontmatter.tag.split(',')\n\n            return (\n              <li key={node.id}>\n                <article className={trendArticle}>\n                  <Link to={frontmatter.slug}>\n                    <div className={articleInfo}>\n                      <h3 className={articleTitle}>{frontmatter.title}</h3>\n                      <p className={articleBrief}>{frontmatter.brief}</p>\n                      {frontmatter.cover && (\n                        <div className={articleCover}>\n                          <img\n                            src={`/images/${frontmatter.cover}`}\n                            alt=\"cover\"\n                          />\n                        </div>\n                      )}\n                      <div className={articleFt}>\n                        {tags.length > 0 && (\n                          <div className={articleTag}>\n                            {tags.map(item => {\n                              return <span key={item}>{item}</span>\n                            })}\n                          </div>\n                        )}\n                        <div className={articleTime}>\n                          发布于 {node.frontmatter.date}\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                </article>\n              </li>\n            )\n          })}\n        </ul>\n\n        <Pagination\n          pageCount={pageCount}\n          curPage={curPage}\n          onPageChange={onPageChange}\n        />\n      </main>\n    </Layout>\n  )\n}\n\nexport default MBlogPage\n\nexport const query = graphql`\n  query BLOG_M_QUERY {\n    allMdx(sort: { fields: frontmatter___date, order: DESC }) {\n      edges {\n        node {\n          frontmatter {\n            title\n            date(formatString: \"YYYY-MM-DD HH:mm\")\n            slug\n            brief\n            tag\n            cover\n          }\n          id\n        }\n      }\n      totalCount\n    }\n\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var sectionTitle = \"mBlogs-module--section-title--DX8on\";\nexport var trendList = \"mBlogs-module--trend-list--1UTsM\";\nexport var trendArticle = \"mBlogs-module--trend-article--c55o_\";\nexport var articleCover = \"mBlogs-module--article-cover--3bl_B\";\nexport var articleInfo = \"mBlogs-module--article-info--3-vkb\";\nexport var articleTitle = \"mBlogs-module--article-title--38Vzo\";\nexport var articleBrief = \"mBlogs-module--article-brief--3O72W\";\nexport var articleFt = \"mBlogs-module--article-ft--2w5Ib\";\nexport var articleTime = \"mBlogs-module--article-time--2bff3\";\nexport var articleTag = \"mBlogs-module--article-tag--3AG1h\";","exports.formatMaxCount = function (n) {\n  return n > 999 ? '999+' : n + ''\n}\n\nconst isBrowser = () => typeof window !== 'undefined'\n\nexports.checkMobileDevice = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  return sUserAgent.match(\n    /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n  )\n}\n\nexports.fixDeviceView = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  var pathname\n  if (window.location.pathname === '/') {\n    pathname = ''\n  } else {\n    pathname = window.location.pathname\n  }\n\n  var isMobileDevice = sUserAgent.match(\n      /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n    ),\n    isMobileView = /^\\/m\\/*.*$/i.test(window.location.pathname)\n  if (isMobileDevice && !isMobileView) {\n    // PC跳转移动端\n    window.location.href =\n      window.location.origin + '/m' + pathname + window.location.search\n  } else if (!isMobileDevice && isMobileView) {\n    // 移动端跳PC\n    window.location.href =\n      window.location.origin +\n      window.location.pathname.replace('/m', '') +\n      window.location.search\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport var pageBody = \"blogs-module--page-body--13yed\";\nexport var blogList = \"blogs-module--blog-list--2ksjk\";\nexport var mPageBody = \"blogs-module--m-page-body--2tPm0\";\nexport var mBlogList = \"blogs-module--m-blog-list--YBtvw\";","export default __webpack_public_path__ + \"static/avatar-a245f5a141ee7672fd4950d820091a5b.jpeg\";"],"sourceRoot":""}