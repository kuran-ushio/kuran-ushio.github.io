{"version":3,"sources":["webpack://blog-space/./src/components/Layout.js","webpack://blog-space/./src/components/PageFoot.js","webpack://blog-space/./src/components/Pagination.js","webpack://blog-space/./src/components/TopNav.js","webpack://blog-space/./src/styles/topnav.module.css","webpack://blog-space/./src/pages/blog.js","webpack://blog-space/./src/utils/tool.js","webpack://blog-space/./src/styles/blogs.module.css","webpack://blog-space/./src/styles/trend.module.css"],"names":["pageTitle","siteTitle","children","className","active","pageCount","curPage","onPageChange","onClick","navs","key","title","to","props","map","nav","data","allMdx","site","useState","setCurPage","edges","slice","list","setList","Math","ceil","totalCount","useEffect","fixDeviceView","siteMetadata","pageBody","blogList","node","frontmatter","tags","tag","split","id","trendArticle","articleTitle","slug","articleBrief","brief","articleFt","length","articleTag","item","articleTime","date","page","exports","n","isBrowser","window","navigator","userAgent","toLowerCase","match","pathname","sUserAgent","location","isMobileDevice","isMobileView","test","href","origin","search","replace","mPageBody","mBlogList","trendList","trendItem","trendItemCircle","articleWorks","worksImg","worksTag"],"mappings":"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","file":"component---src-pages-blog-js-f6a7f4ad7e6703bc0d7b.js","sourcesContent":["import React from 'react'\nimport TopNav from './TopNav'\nimport PageFoot from './PageFoot'\n\nfunction Layout({ pageTitle, siteTitle, children }) {\n  return (\n    <div className=\"page\">\n      <title>\n        {pageTitle} - {siteTitle}\n      </title>\n\n      <TopNav active={pageTitle} />\n\n      {children}\n\n      <PageFoot />\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react';\n\nfunction PageFoot() {\n  return (\n    <footer className=\"linear-bg\"></footer>\n  )\n}\n\nexport default PageFoot;","import React from 'react'\n\nfunction Pagination({ pageCount, curPage, onPageChange }) {\n  const handlePrev = () => {\n    onPageChange(curPage - 1)\n  }\n  const handleNext = () => {\n    onPageChange(curPage + 1)\n  }\n\n  return (\n    <div className=\"pager\">\n      {curPage > 1 && (\n        <button\n          aria-label=\"previous page\"\n          className=\"pager-btn pager-prev\"\n          onClick={handlePrev}\n        >\n          上一页\n        </button>\n      )}\n      <span>\n        {curPage} / {pageCount}\n      </span>\n      {curPage < pageCount && (\n        <button\n          aria-label=\"next page\"\n          className=\"pager-btn pager-next\"\n          onClick={handleNext}\n        >\n          下一页\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport { topNav, navBar, titleEn, liActive } from '../styles/topnav.module.css'\n\nconst navs = [\n  {\n    key: 'Home',\n    title: '首页',\n    to: '/',\n  },\n  {\n    key: 'Blog',\n    title: '笔记',\n    to: '/blog',\n  },\n  {\n    key: 'Works',\n    title: '练习',\n    to: '/works',\n  },\n]\n\nfunction TopNav(props) {\n  return (\n    <header className={topNav}>\n      <div className=\"linear-bg\"></div>\n      <div className={navBar}>\n        <ul>\n          {navs.map(nav => {\n            return (\n              <li\n                key={nav.key}\n                className={props.active === nav.key ? liActive : null}\n              >\n                <Link to={nav.to}>\n                  {nav.title}<span className={titleEn}> / {nav.key}</span>\n                </Link>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default TopNav\n","// extracted by mini-css-extract-plugin\nexport var topNav = \"topnav-module--top-nav--3H5jB\";\nexport var navBar = \"topnav-module--nav-bar--2U4uD\";\nexport var titleEn = \"topnav-module--title-en--1Av9d\";\nexport var liActive = \"topnav-module--li-active--vd_oh\";","import React, { useState, useEffect } from 'react'\nimport { graphql, Link } from 'gatsby'\nimport Layout from '../components/Layout'\nimport Pagination from '../components/Pagination'\n\nimport {\n  trendArticle,\n  articleTitle,\n  articleBrief,\n  articleFt,\n  articleTime,\n  articleTag,\n} from '../styles/trend.module.css'\nimport { pageBody, blogList } from '../styles/blogs.module.css'\n\nimport { fixDeviceView } from '../utils/tool'\n\nfunction Blog({ data }) {\n  const { allMdx, site } = data\n\n  const [curPage, setCurPage] = useState(1)\n  const [list, setList] = useState(\n    allMdx.edges ? allMdx.edges.slice(0, 10) : []\n  )\n\n  const pageCount = Math.ceil(allMdx.totalCount / 10)\n\n  const onPageChange = page => {\n    setList(allMdx.edges.slice((page - 1) * 10, page * 10))\n    setCurPage(page)\n  }\n\n  useEffect(() => {\n    fixDeviceView()\n  }, [])\n\n  return (\n    <Layout pageTitle=\"Blog\" siteTitle={site.siteMetadata.title}>\n      <main className={pageBody}>\n        <ul className={blogList}>\n          {list.map(({ node }) => {\n            const { frontmatter } = node\n            const tags = frontmatter.tag.split(',')\n\n            return (\n              <li key={node.id}>\n                <article className={trendArticle}>\n                  <h3 className={articleTitle}>\n                    <Link to={frontmatter.slug}>{frontmatter.title}</Link>\n                  </h3>\n                  <p className={articleBrief}>{frontmatter.brief}</p>\n                  <div className={articleFt}>\n                    {tags.length > 0 && (\n                      <div className={articleTag}>\n                        {tags.map(item => {\n                          return (\n                            <span key={item} className={`icon-${item}`}></span>\n                          )\n                        })}\n                      </div>\n                    )}\n                    <div className={articleTime}>\n                      发布于 {node.frontmatter.date}\n                    </div>\n                  </div>\n                </article>\n              </li>\n            )\n          })}\n        </ul>\n\n        <Pagination\n          pageCount={pageCount}\n          curPage={curPage}\n          onPageChange={onPageChange}\n        />\n      </main>\n    </Layout>\n  )\n}\n\nexport default Blog\n\nexport const query = graphql`\n  query BLOG_PAGE_QUERY {\n    allMdx(sort: { fields: frontmatter___date, order: DESC }) {\n      edges {\n        node {\n          frontmatter {\n            title\n            date(formatString: \"YYYY-MM-DD HH:mm\")\n            slug\n            brief\n            tag\n          }\n          id\n        }\n      }\n      totalCount\n    }\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","exports.formatMaxCount = function (n) {\n  return n > 999 ? '999+' : n + ''\n}\n\nconst isBrowser = () => typeof window !== 'undefined'\n\nexports.checkMobileDevice = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  return sUserAgent.match(\n    /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n  )\n}\n\nexports.fixDeviceView = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  var pathname\n  if (window.location.pathname === '/') {\n    pathname = ''\n  } else {\n    pathname = window.location.pathname\n  }\n\n  var isMobileDevice = sUserAgent.match(\n      /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n    ),\n    isMobileView = /^\\/m\\/*.*$/i.test(window.location.pathname)\n  if (isMobileDevice && !isMobileView) {\n    // PC跳转移动端\n    window.location.href =\n      window.location.origin + '/m' + pathname + window.location.search\n  } else if (!isMobileDevice && isMobileView) {\n    // 移动端跳PC\n    window.location.href =\n      window.location.origin +\n      window.location.pathname.replace('/m', '') +\n      window.location.search\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport var pageBody = \"blogs-module--page-body--13yed\";\nexport var blogList = \"blogs-module--blog-list--2ksjk\";\nexport var mPageBody = \"blogs-module--m-page-body--2tPm0\";\nexport var mBlogList = \"blogs-module--m-blog-list--YBtvw\";","// extracted by mini-css-extract-plugin\nexport var trendList = \"trend-module--trend-list--2hsVa\";\nexport var trendItem = \"trend-module--trend-item--GREoz\";\nexport var trendItemCircle = \"trend-module--trend-item-circle--1dwiM\";\nexport var trendArticle = \"trend-module--trend-article--w-MR-\";\nexport var articleTitle = \"trend-module--article-title--1VfhA\";\nexport var articleBrief = \"trend-module--article-brief--1VnX-\";\nexport var articleFt = \"trend-module--article-ft--197T8\";\nexport var articleTag = \"trend-module--article-tag--2U7a1\";\nexport var articleTime = \"trend-module--article-time--2tNDB\";\nexport var articleWorks = \"trend-module--article-works--2naZX\";\nexport var worksImg = \"trend-module--works-img--12BOB\";\nexport var worksTag = \"trend-module--works-tag--2x4B6\";"],"sourceRoot":""}