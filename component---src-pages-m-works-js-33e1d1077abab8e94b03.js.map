{"version":3,"sources":["webpack://gatsby-blog/./src/components/MHeader.js","webpack://gatsby-blog/./src/styles/mHeader.module.css","webpack://gatsby-blog/./src/components/MLayout.js","webpack://gatsby-blog/./src/components/Pagination.js","webpack://gatsby-blog/./src/pages/m/works.js","webpack://gatsby-blog/./src/styles/mWorks.module.css","webpack://gatsby-blog/./src/utils/const.js","webpack://gatsby-blog/./src/utils/tool.js","webpack://gatsby-blog/./src/styles/works.module.css","webpack://gatsby-blog/./src/assets/avatar.jpeg"],"names":["navs","key","title","to","useState","showMenu","setShowMenu","className","src","avatarImg","alt","onClick","role","map","item","pageTitle","siteTitle","children","pageCount","curPage","onPageChange","data","allWorks","site","setCurPage","edges","slice","list","setList","Math","ceil","totalCount","useEffect","fixDeviceView","siteMetadata","mPageBody","mWorksList","node","frontmatter","id","slug","images","split","CLIENT_TYPES","side","icon","date","Pagination","page","exports","label","n","isBrowser","window","navigator","userAgent","toLowerCase","match","pathname","sUserAgent","location","isMobileDevice","isMobileView","test","href","origin","search","replace","pageBody","worksList","worksItem","worksCover","worksInfo","worksTitle","worksTime"],"mappings":"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","file":"component---src-pages-m-works-js-33e1d1077abab8e94b03.js","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'gatsby'\nimport avatarImg from '../assets/avatar.jpeg'\nimport {\n  header,\n  headerBar,\n  icon,\n  topInfo,\n  topClose,\n  topMenu,\n  closeOff,\n  closeActive,\n  divider,\n} from '../styles/mHeader.module.css'\n\nconst navs = [\n  {\n    key: 'Home',\n    title: '首页',\n    to: '/',\n  },\n  {\n    key: 'Blog',\n    title: '笔记',\n    to: '/m/blog',\n  },\n  {\n    key: 'Works',\n    title: '练习',\n    to: '/m/works',\n  },\n]\n\nfunction MHeader() {\n  const [showMenu, setShowMenu] = useState(false)\n\n  const handleToggleMenu = () => {\n    setShowMenu(!showMenu)\n  }\n\n  return (\n    <header className={header}>\n      <div className={headerBar}>\n        <div className={icon}>\n          <img src={avatarImg} alt=\"avatar\" />\n        </div>\n        <div className={topInfo}>\n          <div>Ushio</div>\n          <span>\n            To reveal all mysteries and doubts, have the lust for life.\n          </span>\n        </div>\n        <div className={topClose} onClick={handleToggleMenu} role=\"button\">\n          <div className={showMenu ? closeActive : closeOff}></div>\n        </div>\n        {showMenu && (\n          <div className={topMenu}>\n            <ul>\n              {navs.map(item => {\n                return (\n                  <li key={item.key}>\n                    <Link to={item.to}>{item.title}</Link>\n                    <div className={divider}></div>\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        )}\n      </div>\n    </header>\n  )\n}\n\nexport default MHeader\n","// extracted by mini-css-extract-plugin\nexport var header = \"mHeader-module--header--3VpTH\";\nexport var headerBar = \"mHeader-module--header-bar--29-4_\";\nexport var icon = \"mHeader-module--icon--E8UBq\";\nexport var topInfo = \"mHeader-module--top-info--32z56\";\nexport var topClose = \"mHeader-module--top-close--1Mo6L\";\nexport var topMenu = \"mHeader-module--top-menu--1kKFv\";\nexport var closeOff = \"mHeader-module--close-off--1-nuD\";\nexport var closeActive = \"mHeader-module--close-active--1zALV\";\nexport var divider = \"mHeader-module--divider--31zPb\";","import React from 'react'\nimport MHeader from './MHeader'\n\nfunction Layout({ pageTitle, siteTitle, children }) {\n  return (\n    <div className=\"page\">\n      <title>\n        {pageTitle} - {siteTitle}\n      </title>\n\n      <MHeader />\n\n      {children}\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react'\n\nfunction Pagination({ pageCount, curPage, onPageChange }) {\n  const handlePrev = () => {\n    onPageChange(curPage - 1)\n  }\n  const handleNext = () => {\n    onPageChange(curPage + 1)\n  }\n\n  return (\n    <div className=\"pager\">\n      {curPage > 1 && (\n        <button\n          aria-label=\"previous page\"\n          className=\"pager-btn pager-prev\"\n          onClick={handlePrev}\n        >\n          上一页\n        </button>\n      )}\n      <span>\n        {curPage} / {pageCount}\n      </span>\n      {curPage < pageCount && (\n        <button\n          aria-label=\"next page\"\n          className=\"pager-btn pager-next\"\n          onClick={handleNext}\n        >\n          下一页\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from 'react'\nimport { graphql, Link } from 'gatsby'\nimport Layout from '../../components/MLayout'\nimport Pagination from '../../components/Pagination'\n\nimport { mPageBody, mWorksList } from '../../styles/works.module.css'\nimport {\n  sectionTitle,\n  mWorksItem,\n  mWorksCover,\n  mWorksInfo,\n  mWorksTitle,\n  mWorksTime,\n} from '../../styles/mWorks.module.css'\n\nimport { CLIENT_TYPES } from '../../utils/const'\nimport { fixDeviceView } from '../../utils/tool'\n\nfunction Works({ data }) {\n  const { allWorks, site } = data\n  const [curPage, setCurPage] = useState(1)\n  const [list, setList] = useState(\n    allWorks && allWorks.edges ? allWorks.edges.slice(0, 10) : []\n  )\n\n  const pageCount = Math.ceil(allWorks.totalCount / 10)\n\n  const onPageChange = page => {\n    setList(allWorks.edges.slice((page - 1) * 10, page * 10))\n    setCurPage(page)\n  }\n\n  useEffect(() => {\n    fixDeviceView()\n  }, [])\n\n  return (\n    <Layout pageTitle=\"Blog\" siteTitle={site.siteMetadata.title}>\n      <div className={sectionTitle}>练习合集</div>\n\n      <main className={mPageBody}>\n        <ul className={mWorksList}>\n          {list.map(({ node }) => {\n            const { frontmatter } = node\n\n            return (\n              <li className={mWorksItem} key={node.id}>\n                <Link to={frontmatter.slug}>\n                  <div className={mWorksCover}>\n                    <img\n                      src={`/images/${frontmatter.images.split(',')[0]}`}\n                      alt=\"works\"\n                    />\n                  </div>\n                  <div>\n                    <div className={mWorksTitle}>{frontmatter.title}</div>\n                    <div className={mWorksInfo}>\n                      <span\n                        className={`icon-client icon-${\n                          CLIENT_TYPES[frontmatter.side - 1].icon\n                        }`}\n                      ></span>\n                      <span className={mWorksTime}>{frontmatter.date}</span>\n                    </div>\n                  </div>\n                </Link>\n              </li>\n            )\n          })}\n        </ul>\n\n        <Pagination\n          pageCount={pageCount}\n          curPage={curPage}\n          onPageChange={onPageChange}\n        />\n      </main>\n    </Layout>\n  )\n}\n\nexport default Works\n\nexport const query = graphql`\n  query WORKS_M_QUERY {\n    allWorks(sort: { fields: frontmatter___date, order: DESC }) {\n      edges {\n        node {\n          frontmatter {\n            date\n            images\n            side\n            slug\n            title\n          }\n          id\n        }\n      }\n      totalCount\n    }\n\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n","// extracted by mini-css-extract-plugin\nexport var sectionTitle = \"mWorks-module--section-title--3CVUr\";\nexport var mWorksItem = \"mWorks-module--m-works-item--YH8I5\";\nexport var mWorksCover = \"mWorks-module--m-works-cover--1GOzs\";\nexport var mWorksInfo = \"mWorks-module--m-works-info--2X85w\";\nexport var mWorksTitle = \"mWorks-module--m-works-title--mwqTs\";\nexport var mWorksTime = \"mWorks-module--m-works-time--1Bb0-\";","exports.ICON_TAG_MAP = {\n  antd: {\n    title: 'Ant Design',\n    icon: 'icon-antd.svg',\n  },\n  d3: {\n    title: 'D3.js',\n    icon: 'icon-d3.png',\n  },\n  h5: {\n    title: 'H5',\n    icon: 'icon-h5.svg',\n  },\n  react: {\n    title: 'React',\n    icon: 'icon-react.svg',\n  },\n  redux: {\n    title: 'Redux',\n    icon: 'icon-redux.svg',\n  },\n  vue: {\n    title: 'Vue',\n    icon: 'icon-vue.png',\n  },\n  vant: {\n    title: 'Vant',\n    icon: 'icon-vant.png',\n  },\n}\n\n// 客户端类型\nexports.CLIENT_TYPES = [\n  {\n    icon: 'pc',\n    label: 'PC端(Web)'\n  },\n  {\n    icon: 'mobile',\n    label: 'Mobile(Web)'\n  },\n  {\n    icon: 'wx-mini',\n    label: '小程序'\n  },\n  {\n    icon: 'android',\n    label: 'Android APP'\n  },\n  {\n    icon: 'ios',\n    label: 'IOS APP'\n  }\n];\n\nexports.works = [\n  {\n    slug: 'takeout',\n    title: '仿外卖APP Web版',\n    techs: 'vue,vue-router,vuex,vant',\n    desc: '基于 Vue.js 2.x 实现的仿外卖APP Web版练习',\n    side: '2',\n    date: '2020-05-03 10:00',\n    images:\n      '1588647448423.png,1588647476647.png,1588647488239.png,1588647501715.png,1588647515883.png',\n  },\n  {\n    slug: 'weixin-music-player',\n    title: '音乐播放器',\n    link: '1553269237445.png',\n    techs: '微信小程序,js',\n    desc: '音乐播放器 个人微信小程序练习',\n    side: '3',\n    date: '2018-11-25 19:00',\n    images: '1553269237445.png',\n  },\n]\n","exports.formatMaxCount = function (n) {\n  return n > 999 ? '999+' : n + ''\n}\n\nconst isBrowser = () => typeof window !== 'undefined'\n\nexports.checkMobileDevice = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  return sUserAgent.match(\n    /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n  )\n}\n\nexports.fixDeviceView = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  var pathname\n  if (window.location.pathname === '/') {\n    pathname = ''\n  } else {\n    pathname = window.location.pathname\n  }\n\n  var isMobileDevice = sUserAgent.match(\n      /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n    ),\n    isMobileView = /^\\/m\\/*.*$/i.test(window.location.pathname)\n  if (isMobileDevice && !isMobileView) {\n    // PC跳转移动端\n    window.location.href =\n      window.location.origin + '/m' + pathname + window.location.search\n  } else if (!isMobileDevice && isMobileView) {\n    // 移动端跳PC\n    window.location.href =\n      window.location.origin +\n      window.location.pathname.replace('/m', '') +\n      window.location.search\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport var pageBody = \"works-module--page-body--2b0lz\";\nexport var worksList = \"works-module--works-list--xu63n\";\nexport var worksItem = \"works-module--works-item--nacmt\";\nexport var worksCover = \"works-module--works-cover--3hslw\";\nexport var worksInfo = \"works-module--works-info--3BqFd\";\nexport var worksTitle = \"works-module--works-title--2ZxEo\";\nexport var worksTime = \"works-module--works-time--3zMG0\";\nexport var mPageBody = \"works-module--m-page-body--h4CLx\";\nexport var mWorksList = \"works-module--m-works-list--2CR9P\";","export default __webpack_public_path__ + \"static/avatar-a245f5a141ee7672fd4950d820091a5b.jpeg\";"],"sourceRoot":""}