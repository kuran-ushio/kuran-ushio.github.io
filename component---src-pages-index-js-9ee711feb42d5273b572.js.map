{"version":3,"sources":["webpack://gatsby-blog/./src/components/Layout.js","webpack://gatsby-blog/./src/components/PageFoot.js","webpack://gatsby-blog/./src/components/TopNav.js","webpack://gatsby-blog/./src/styles/topnav.module.css","webpack://gatsby-blog/./src/styles/profile.module.css","webpack://gatsby-blog/./src/components/Profile.js","webpack://gatsby-blog/./src/pages/index.js","webpack://gatsby-blog/./src/utils/tool.js","webpack://gatsby-blog/./src/styles/trend.module.css","webpack://gatsby-blog/./src/assets/avatar.jpeg"],"names":["pageTitle","siteTitle","children","className","active","navs","key","title","to","props","map","nav","statisticItem","statisticCount","statisticTitle","blogQuery","useStaticQuery","src","avatarImg","alt","formatMaxCount","allMdx","totalCount","allWorks","COLORS","data","site","markdowns","edges","item","tmp","JSON","parse","stringify","node","dataType","works","trends","concat","slice","sort","a","b","Date","frontmatter","date","useEffect","fixDeviceView","Layout","siteMetadata","trendList","index","trendItem","id","trendItemCircle","style","borderColor","tags","tag","split","trendArticle","articleTitle","slug","articleBrief","brief","articleFt","length","articleTag","articleTime","renderMd","imgs","images","techs","articleWorks","worksImg","marginTop","worksTag","renderWorks","exports","n","isBrowser","window","navigator","userAgent","toLowerCase","match","pathname","sUserAgent","location","isMobileDevice","isMobileView","test","href","origin","search","replace"],"mappings":"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","file":"component---src-pages-index-js-9ee711feb42d5273b572.js","sourcesContent":["import React from 'react'\nimport TopNav from './TopNav'\nimport PageFoot from './PageFoot'\n\nfunction Layout({ pageTitle, siteTitle, children }) {\n  return (\n    <div className=\"page\">\n      <title>\n        {pageTitle} - {siteTitle}\n      </title>\n\n      <TopNav active={pageTitle} />\n\n      {children}\n\n      <PageFoot />\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react';\n\nfunction PageFoot() {\n  return (\n    <footer className=\"linear-bg\"></footer>\n  )\n}\n\nexport default PageFoot;","import React from 'react'\nimport { Link } from 'gatsby'\nimport { topNav, navBar, titleEn, liActive } from '../styles/topnav.module.css'\n\nconst navs = [\n  {\n    key: 'Home',\n    title: '首页',\n    to: '/',\n  },\n  {\n    key: 'Blog',\n    title: '笔记',\n    to: '/blog',\n  },\n  {\n    key: 'Works',\n    title: '练习',\n    to: '/works',\n  },\n]\n\nfunction TopNav(props) {\n  return (\n    <header className={topNav}>\n      <div className=\"linear-bg\"></div>\n      <div className={navBar}>\n        <ul>\n          {navs.map(nav => {\n            return (\n              <li\n                key={nav.key}\n                className={props.active === nav.key ? liActive : null}\n              >\n                <Link to={nav.to}>\n                  {nav.title}<span className={titleEn}> / {nav.key}</span>\n                </Link>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default TopNav\n","// extracted by mini-css-extract-plugin\nexport var topNav = \"topnav-module--top-nav--3H5jB\";\nexport var navBar = \"topnav-module--nav-bar--2U4uD\";\nexport var titleEn = \"topnav-module--title-en--1Av9d\";\nexport var liActive = \"topnav-module--li-active--vd_oh\";","// extracted by mini-css-extract-plugin\nexport var profile = \"profile-module--profile--1JMzU\";\nexport var avatar = \"profile-module--avatar--3ZG0z\";\nexport var username = \"profile-module--username--3wZ0h\";\nexport var desc = \"profile-module--desc--2wj7G\";\nexport var statistic = \"profile-module--statistic--1MPPk\";\nexport var statisticItem = \"profile-module--statistic-item--1poTp\";\nexport var statisticCount = \"profile-module--statistic-count--3L4ih\";\nexport var statisticTitle = \"profile-module--statistic-title--387G-\";\nexport var divider = \"profile-module--divider--Q3AEI\";","import React from 'react'\nimport { graphql, useStaticQuery } from 'gatsby'\nimport avatarImg from '../assets/avatar.jpeg'\nimport {\n  profile,\n  avatar,\n  username,\n  desc,\n  statistic,\n  statisticItem,\n  statisticCount,\n  statisticTitle,\n  divider,\n} from '../styles/profile.module.css'\nimport { formatMaxCount } from '../utils/tool'\n\nfunction Profile() {\n  const blogQuery = useStaticQuery(graphql`\n    query STATISTIC_QUERY {\n      allMdx {\n        totalCount\n      }\n      allWorks {\n        totalCount\n      }\n    }\n  `)\n\n  return (\n    <section className={profile}>\n      <div className={avatar}>\n        <img src={avatarImg} alt=\"avatar\" />\n      </div>\n      <div className={username}>Ushio</div>\n      <div className={desc}>\n        To reveal all mysteries and doubts,\n        <br /> have the lust for life.\n      </div>\n\n      <div className={statistic}>\n        <div className={statisticItem}>\n          <span className={statisticCount}>\n            {formatMaxCount(blogQuery.allMdx.totalCount)}\n          </span>\n          <span className={statisticTitle}>笔记</span>\n        </div>\n        <i className={divider}></i>\n        <div className={statisticItem}>\n          <span className={statisticCount}>\n            {formatMaxCount(blogQuery.allWorks.totalCount)}\n          </span>\n          <span className={statisticTitle}>练习</span>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default Profile\n","import React, { useEffect } from 'react'\nimport { graphql, Link } from 'gatsby'\nimport Layout from '../components/Layout'\nimport Profile from '../components/Profile'\n\nimport { fixDeviceView } from '../utils/tool'\n\nimport {\n  trendList,\n  trendItem,\n  trendArticle,\n  articleTitle,\n  articleBrief,\n  articleFt,\n  articleTime,\n  articleTag,\n  articleWorks,\n  worksImg,\n  worksTag,\n  trendItemCircle,\n} from '../styles/trend.module.css'\n\nconst COLORS = [\n  '#f64f59',\n  '#f79d00',\n  '#ffd452',\n  '#67B26F',\n  '#64f38c',\n  '#12c2e9',\n  '#c471ed',\n]\n\nfunction IndexPage({ data }) {\n  const { site, allMdx, allWorks } = data\n\n  const markdowns = allMdx.edges.map(item => {\n    const tmp = JSON.parse(JSON.stringify(item))\n    tmp.node.dataType = 'md'\n    return { ...tmp }\n  })\n  const works = allWorks.edges.map(item => {\n    const tmp = JSON.parse(JSON.stringify(item))\n    tmp.node.dataType = 'json'\n    return { ...tmp }\n  })\n\n  const trends = markdowns\n    .concat(works)\n    .slice(0, 7)\n    .sort(\n      (a, b) =>\n        new Date(b.node.frontmatter.date) - new Date(a.node.frontmatter.date)\n    )\n\n  useEffect(() => {\n    fixDeviceView()\n  }, [])\n\n  const renderMd = frontmatter => {\n    const tags = frontmatter.tag.split(',')\n\n    return (\n      <article className={trendArticle}>\n        <div className={articleTitle}>\n          <span>发布了笔记《 </span>\n          <Link to={frontmatter.slug} className={articleTitle}>\n            {frontmatter.title}\n          </Link>\n          <span> 》</span>\n        </div>\n        <p className={articleBrief}>{frontmatter.brief}</p>\n        <div className={articleFt}>\n          {tags.length > 0 && (\n            <div className={articleTag}>\n              {tags.map(item => {\n                return <span key={item} className={`icon-${item}`}></span>\n              })}\n            </div>\n          )}\n          <div className={articleTime}>{frontmatter.date}</div>\n        </div>\n      </article>\n    )\n  }\n\n  const renderWorks = frontmatter => {\n    const imgs = frontmatter.images.split(',')\n    const tags = frontmatter.techs.split(',')\n\n    return (\n      <article className={trendArticle}>\n        <p className={articleTitle}>\n          <span>添加了练习《 </span>\n          <Link to={frontmatter.slug}>{frontmatter.title}</Link>\n          <span> 》</span>\n        </p>\n\n        {imgs.length > 0 && (\n          <div className={articleWorks}>\n            {imgs.map(item => {\n              return (\n                <div className={worksImg} key={item}>\n                  <img src={`/images/${item}`} alt=\"works\" />\n                </div>\n              )\n            })}\n          </div>\n        )}\n\n        <div className={articleFt} style={{ marginTop: 10 }}>\n          {tags.length > 0 && (\n            <div className={worksTag}>\n              {tags.map(item => {\n                return <span key={item}>{item}</span>\n              })}\n            </div>\n          )}\n          <div className={articleTime}>{frontmatter.date}</div>\n        </div>\n      </article>\n    )\n  }\n\n  return (\n    <Layout pageTitle=\"Home\" siteTitle={site.siteMetadata.title}>\n      <main className=\"main\">\n        <div>\n          <Profile />\n        </div>\n\n        <div className=\"main-rgt\">\n          <div className=\"main-title\">动态</div>\n\n          <div>\n            <ul className={trendList}>\n              {trends.map(({ node }, index) => {\n                const { frontmatter } = node\n\n                return (\n                  <li className={trendItem} key={node.id}>\n                    <i\n                      className={trendItemCircle}\n                      style={{ borderColor: COLORS[index] }}\n                    ></i>\n                    {node.dataType === 'md'\n                      ? renderMd(frontmatter)\n                      : renderWorks(frontmatter)}\n                  </li>\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  query HOME_PAGE_QUERY {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n\n    allMdx(sort: { fields: frontmatter___date, order: DESC }, limit: 7) {\n      edges {\n        node {\n          frontmatter {\n            title\n            date(formatString: \"YYYY-MM-DD HH:mm\")\n            slug\n            brief\n            tag\n          }\n          id\n        }\n      }\n    }\n\n    allWorks(sort: { fields: frontmatter___date, order: DESC }, limit: 7) {\n      edges {\n        node {\n          frontmatter {\n            title\n            date\n            images\n            techs\n            slug\n          }\n          id\n        }\n      }\n    }\n  }\n`\n","exports.formatMaxCount = function (n) {\n  return n > 999 ? '999+' : n + ''\n}\n\nconst isBrowser = () => typeof window !== 'undefined'\n\nexports.checkMobileDevice = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  return sUserAgent.match(\n    /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n  )\n}\n\nexports.fixDeviceView = function () {\n  if (!isBrowser()) return;\n\n  var sUserAgent = window.navigator.userAgent.toLowerCase()\n  var pathname\n  if (window.location.pathname === '/') {\n    pathname = ''\n  } else {\n    pathname = window.location.pathname\n  }\n\n  var isMobileDevice = sUserAgent.match(\n      /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n    ),\n    isMobileView = /^\\/m\\/*.*$/i.test(window.location.pathname)\n  if (isMobileDevice && !isMobileView) {\n    // PC跳转移动端\n    window.location.href =\n      window.location.origin + '/m' + pathname + window.location.search\n  } else if (!isMobileDevice && isMobileView) {\n    // 移动端跳PC\n    window.location.href =\n      window.location.origin +\n      window.location.pathname.replace('/m', '') +\n      window.location.search\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport var trendList = \"trend-module--trend-list--2hsVa\";\nexport var trendItem = \"trend-module--trend-item--GREoz\";\nexport var trendItemCircle = \"trend-module--trend-item-circle--1dwiM\";\nexport var trendArticle = \"trend-module--trend-article--w-MR-\";\nexport var articleTitle = \"trend-module--article-title--1VfhA\";\nexport var articleBrief = \"trend-module--article-brief--1VnX-\";\nexport var articleFt = \"trend-module--article-ft--197T8\";\nexport var articleTag = \"trend-module--article-tag--2U7a1\";\nexport var articleTime = \"trend-module--article-time--2tNDB\";\nexport var articleWorks = \"trend-module--article-works--2naZX\";\nexport var worksImg = \"trend-module--works-img--12BOB\";\nexport var worksTag = \"trend-module--works-tag--2x4B6\";","export default __webpack_public_path__ + \"static/avatar-a245f5a141ee7672fd4950d820091a5b.jpeg\";"],"sourceRoot":""}