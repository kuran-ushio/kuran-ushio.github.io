{"version":3,"sources":["webpack://gatsby-blog/./src/components/Layout.js","webpack://gatsby-blog/./src/components/PageFoot.js","webpack://gatsby-blog/./src/components/Pagination.js","webpack://gatsby-blog/./src/components/TopNav.js","webpack://gatsby-blog/./src/styles/topnav.module.css","webpack://gatsby-blog/./src/pages/works.js","webpack://gatsby-blog/./src/utils/const.js","webpack://gatsby-blog/./src/utils/tool.js","webpack://gatsby-blog/./src/styles/works.module.css"],"names":["pageTitle","siteTitle","children","className","active","pageCount","curPage","onPageChange","onClick","navs","key","title","to","props","map","nav","data","allWorks","site","useState","setCurPage","edges","slice","list","setList","Math","ceil","totalCount","useEffect","fixDeviceView","siteMetadata","pageBody","worksList","node","frontmatter","worksItem","id","slug","worksCover","src","images","split","alt","worksTitle","worksInfo","CLIENT_TYPES","side","icon","worksTime","date","page","exports","label","n","navigator","userAgent","toLowerCase","match","pathname","sUserAgent","window","location","isMobileDevice","isMobileView","test","href","origin","search","replace","mPageBody","mWorksList"],"mappings":"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","file":"component---src-pages-works-js-2aa437a460b0f6936816.js","sourcesContent":["import React from 'react'\nimport TopNav from './TopNav'\nimport PageFoot from './PageFoot'\n\nfunction Layout({ pageTitle, siteTitle, children }) {\n  return (\n    <div className=\"page\">\n      <title>\n        {pageTitle} - {siteTitle}\n      </title>\n\n      <TopNav active={pageTitle} />\n\n      {children}\n\n      <PageFoot />\n    </div>\n  )\n}\n\nexport default Layout\n","import React from 'react';\n\nfunction PageFoot() {\n  return (\n    <footer className=\"linear-bg\"></footer>\n  )\n}\n\nexport default PageFoot;","import React from 'react'\n\nfunction Pagination({ pageCount, curPage, onPageChange }) {\n  const handlePrev = () => {\n    onPageChange(curPage - 1)\n  }\n  const handleNext = () => {\n    onPageChange(curPage + 1)\n  }\n\n  return (\n    <div className=\"pager\">\n      {curPage > 1 && (\n        <button\n          aria-label=\"previous page\"\n          className=\"pager-btn pager-prev\"\n          onClick={handlePrev}\n        >\n          上一页\n        </button>\n      )}\n      <span>\n        {curPage} / {pageCount}\n      </span>\n      {curPage < pageCount && (\n        <button\n          aria-label=\"next page\"\n          className=\"pager-btn pager-next\"\n          onClick={handleNext}\n        >\n          下一页\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Pagination\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport { topNav, navBar, titleEn, liActive } from '../styles/topnav.module.css'\n\nconst navs = [\n  {\n    key: 'Home',\n    title: '首页',\n    to: '/',\n  },\n  {\n    key: 'Blog',\n    title: '笔记',\n    to: '/blog',\n  },\n  {\n    key: 'Works',\n    title: '练习',\n    to: '/works',\n  },\n]\n\nfunction TopNav(props) {\n  return (\n    <header className={topNav}>\n      <div className=\"linear-bg\"></div>\n      <div className={navBar}>\n        <ul>\n          {navs.map(nav => {\n            return (\n              <li\n                key={nav.key}\n                className={props.active === nav.key ? liActive : null}\n              >\n                <Link to={nav.to}>\n                  {nav.title}<span className={titleEn}> / {nav.key}</span>\n                </Link>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </header>\n  )\n}\n\nexport default TopNav\n","// extracted by mini-css-extract-plugin\nexport var topNav = \"topnav-module--top-nav--3H5jB\";\nexport var navBar = \"topnav-module--nav-bar--2U4uD\";\nexport var titleEn = \"topnav-module--title-en--1Av9d\";\nexport var liActive = \"topnav-module--li-active--vd_oh\";","import React, { useState, useEffect } from 'react'\nimport { graphql, Link } from 'gatsby'\nimport Layout from '../components/Layout'\nimport Pagination from '../components/Pagination'\nimport {\n  pageBody,\n  worksList,\n  worksItem,\n  worksCover,\n  worksInfo,\n  worksTitle,\n  worksTime,\n} from '../styles/works.module.css'\n\nimport { CLIENT_TYPES } from '../utils/const'\nimport { fixDeviceView } from '../utils/tool'\n\nfunction Works({ data }) {\n  const { allWorks, site } = data\n  const [curPage, setCurPage] = useState(1)\n  const [list, setList] = useState(\n    allWorks.edges ? allWorks.edges.slice(0, 10) : []\n  )\n\n  const pageCount = Math.ceil(allWorks.totalCount / 10)\n\n  const onPageChange = page => {\n    setList(allWorks.edges.slice((page - 1) * 10, page * 10))\n    setCurPage(page)\n  }\n\n  useEffect(() => {\n    fixDeviceView()\n  }, [])\n\n  return (\n    <Layout pageTitle=\"Works\" siteTitle={site.siteMetadata.title}>\n      <main className={pageBody}>\n        <ul className={worksList}>\n          {list.map(({ node }) => {\n            const { frontmatter } = node\n\n            return (\n              <li className={worksItem} key={node.id}>\n                <Link to={frontmatter.slug}>\n                  <div className={worksCover}>\n                    <img\n                      src={`/images/${frontmatter.images.split(',')[0]}`}\n                      alt=\"works\"\n                    />\n                  </div>\n                  <div>\n                    <div className={worksTitle}>{frontmatter.title}</div>\n                    <div className={worksInfo}>\n                      <span\n                        className={`icon-client icon-${\n                          CLIENT_TYPES[frontmatter.side - 1].icon\n                        }`}\n                      ></span>\n                      <span className={worksTime}>{frontmatter.date}</span>\n                    </div>\n                  </div>\n                </Link>\n              </li>\n            )\n          })}\n        </ul>\n\n        <Pagination\n          pageCount={pageCount}\n          curPage={curPage}\n          onPageChange={onPageChange}\n        />\n      </main>\n    </Layout>\n  )\n}\n\nexport default Works\n\nexport const query = graphql`\n  query WORKS_PAGE_QUERY {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n\n    allWorks(sort: { fields: frontmatter___date, order: DESC }) {\n      edges {\n        node {\n          frontmatter {\n            date\n            images\n            side\n            slug\n            title\n          }\n          id\n        }\n      }\n      totalCount\n    }\n  }\n`\n","exports.ICON_TAG_MAP = {\n  antd: {\n    title: 'Ant Design',\n    icon: 'icon-antd.svg',\n  },\n  d3: {\n    title: 'D3.js',\n    icon: 'icon-d3.png',\n  },\n  h5: {\n    title: 'H5',\n    icon: 'icon-h5.svg',\n  },\n  react: {\n    title: 'React',\n    icon: 'icon-react.svg',\n  },\n  redux: {\n    title: 'Redux',\n    icon: 'icon-redux.svg',\n  },\n  vue: {\n    title: 'Vue',\n    icon: 'icon-vue.png',\n  },\n  vant: {\n    title: 'Vant',\n    icon: 'icon-vant.png',\n  },\n}\n\n// 客户端类型\nexports.CLIENT_TYPES = [\n  {\n    icon: 'pc',\n    label: 'PC端(Web)'\n  },\n  {\n    icon: 'mobile',\n    label: 'Mobile(Web)'\n  },\n  {\n    icon: 'wx-mini',\n    label: '小程序'\n  },\n  {\n    icon: 'android',\n    label: 'Android APP'\n  },\n  {\n    icon: 'ios',\n    label: 'IOS APP'\n  }\n];\n\nexports.works = [\n  {\n    slug: 'takeout',\n    title: '仿外卖APP Web版',\n    techs: 'vue,vue-router,vuex,vant',\n    desc: '基于 Vue.js 2.x 实现的仿外卖APP Web版练习',\n    side: '2',\n    date: '2020-05-03 10:00',\n    images:\n      '1588647448423.png,1588647476647.png,1588647488239.png,1588647501715.png,1588647515883.png',\n  },\n  {\n    slug: 'weixin-music-player',\n    title: '音乐播放器',\n    link: '1553269237445.png',\n    techs: '微信小程序,js',\n    desc: '音乐播放器 个人微信小程序练习',\n    side: '3',\n    date: '2018-11-25 19:00',\n    images: '1553269237445.png',\n  },\n]\n","exports.formatMaxCount = function (n) {\n  return n > 999 ? '999+' : n + ''\n}\n\nexports.checkMobileDevice = function () {\n  var sUserAgent = navigator.userAgent.toLowerCase()\n  return sUserAgent.match(\n    /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n  )\n}\n\nexports.fixDeviceView = function () {\n  var sUserAgent = navigator.userAgent.toLowerCase()\n  var pathname\n  if (window.location.pathname === '/') {\n    pathname = ''\n  } else {\n    pathname = window.location.pathname\n  }\n\n  var isMobileDevice = sUserAgent.match(\n      /(ipad|ipod|iphone os|midp|ucweb|android|windows ce|windows mobile)/i\n    ),\n    isMobileView = /^\\/m\\/*.*$/i.test(window.location.pathname)\n  if (isMobileDevice && !isMobileView) {\n    // PC跳转移动端\n    window.location.href =\n      window.location.origin + '/m' + pathname + window.location.search\n  } else if (!isMobileDevice && isMobileView) {\n    // 移动端跳PC\n    window.location.href =\n      window.location.origin +\n      window.location.pathname.replace('/m', '') +\n      window.location.search\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport var pageBody = \"works-module--page-body--2b0lz\";\nexport var worksList = \"works-module--works-list--xu63n\";\nexport var worksItem = \"works-module--works-item--nacmt\";\nexport var worksCover = \"works-module--works-cover--3hslw\";\nexport var worksInfo = \"works-module--works-info--3BqFd\";\nexport var worksTitle = \"works-module--works-title--2ZxEo\";\nexport var worksTime = \"works-module--works-time--3zMG0\";\nexport var mPageBody = \"works-module--m-page-body--h4CLx\";\nexport var mWorksList = \"works-module--m-works-list--2CR9P\";"],"sourceRoot":""}